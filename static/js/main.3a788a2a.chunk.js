(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(16),i=n.n(s),a=n(12),o=n(4),r=n(5),l=n(2),d=function(e,t){var n=c.useMemo((function(){return t||document.body}),[t]),s=c.useRef();return c.useEffect((function(){var t=function(t){s.current.contains(t.target)||e(t)},c=function(t){e(t)};return document.addEventListener("mousedown",t),document.addEventListener("scroll",c),window.addEventListener("resize",c),n&&n.addEventListener("scroll",c),function(){document.removeEventListener("mousedown",t),document.removeEventListener("scroll",c),window.removeEventListener("resize",c),n&&n.removeEventListener("scroll",c)}}),[n,e]),s},u=(n(21),n(1)),j=function(e){var t=e.className,n=e.children,s=e.onConfirm,i=c.useState(!1),a=Object(l.a)(i,2),o=a[0],r=a[1],j=d((function(){r(!1)}));return Object(u.jsxs)("span",{ref:j,className:"delete-btn ".concat(t||""),children:[Object(u.jsx)("span",{onClick:function(){return r(!0)},children:n}),o&&Object(u.jsxs)("span",{className:"pop-over",children:[Object(u.jsx)("span",{className:"arrow"}),Object(u.jsx)("span",{className:"question",children:"Are you sure ? "}),Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)("span",{className:"yes",onClick:function(){r(!1),s&&s()},children:"Yes"}),Object(u.jsx)("span",{className:"no",onClick:function(){return r(!1)},children:"No"})]})]})]})},m=n(14),b=["className","children"],f=function(e){var t=e.className,n=e.children,c=Object(m.a)(e,b);return Object(u.jsx)("button",Object(r.a)(Object(r.a)({className:"btn ".concat(t||"")},c),{},{children:n}))},O=["className","value","onChange","type"],h=c.forwardRef((function(e,t){var n=e.className,s=e.value,i=e.onChange,a=e.type,o=Object(m.a)(e,O),d=c.useState(!1),j=Object(l.a)(d,2),b=j[0],f=j[1],h=c.useMemo((function(){return"password"===a}),[a]);return Object(u.jsxs)("div",{className:"input ".concat(n||""),children:[Object(u.jsx)("input",Object(r.a)(Object(r.a)({},o),{},{ref:t,type:h?b?"text":"password":a,value:s,onChange:function(e){return i&&i(e.target.value)}})),h&&Object(u.jsx)("div",{className:"password-btn btn sm",onClick:function(){return f((function(e){return!e}))},children:b?"Hide":"Show"})]})})),p=(n(23),function(e){var t=e.data,n=e.onAdd,s=e.onCancel,i=c.useState((null===t||void 0===t?void 0:t.title)||""),a=Object(l.a)(i,2),o=a[0],r=a[1],d=c.useState((null===t||void 0===t?void 0:t.description)||""),j=Object(l.a)(d,2),m=j[0],b=j[1],O=c.useRef(null);c.useEffect((function(){r((null===t||void 0===t?void 0:t.title)||""),b((null===t||void 0===t?void 0:t.description)||""),O.current.focus()}),[t]);var p=function(){r(""),b("")},v=c.useMemo((function(){return(!o||(null===t||void 0===t?void 0:t.title)===o.trim())&&(null===t||void 0===t?void 0:t.description)===m.trim()}),[t,o,m]);return Object(u.jsx)("form",{className:"add-task-form",onSubmit:function(e){e.preventDefault(),o&&(n&&n({title:o,description:m}),p())},children:Object(u.jsxs)("div",{className:"line",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(h,{ref:O,placeholder:"Task Title",value:o,onChange:r,required:!0,autoFocus:!0})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(h,{placeholder:"Task Description",value:m,onChange:b})}),Object(u.jsx)("div",{className:"btn-col",children:Object(u.jsx)(f,{type:"submit",className:"primary",disabled:v,children:null!==t&&void 0!==t&&t.title?"Edit":"Add"})}),Object(u.jsx)("div",{className:"btn-col",children:Object(u.jsx)(f,{type:"reset",className:"danger",onClick:function(){s&&s(),p()},children:null!==t&&void 0!==t&&t.title?"Cancel":"Reset"})})]})})}),v=(n(24),function(){return Object(u.jsxs)("footer",{children:["By"," ",Object(u.jsx)("a",{href:"https://www.linkedin.com/in/aymen-mensi/",target:"_blanc",children:"Aymen Mensi"})," "]})}),x=(n(25),"todo-data-test"),N=function(e){e.loginStorageKey,e.loginStorageValue;var t=c.useState([]),n=Object(l.a)(t,2),s=n[0],i=n[1],d=c.useState(!0),m=Object(l.a)(d,2),b=m[0],f=m[1],O=c.useState(null),h=Object(l.a)(O,2),N=h[0],g=h[1];c.useEffect((function(){var e=localStorage.getItem(x);i(e?JSON.parse(e):[])}),[]);var k=function(e){document.getElementById("task-".concat(e)).scrollIntoView()},w=function(e){localStorage.setItem(x,JSON.stringify(e))},y=c.useMemo((function(){return s.filter((function(e){return e.completed}))}),[s]),C=c.useMemo((function(){return s.filter((function(e){return!e.completed}))}),[s]),S=function(e){return e.length?Object(u.jsx)(j,{className:"delete-all",onConfirm:function(){return function(e){var t=e.map((function(e){return e.id}));i((function(e){var n=e.filter((function(e){return!t.includes(e.id)}));return w(n),n}))}(e)},children:"Delete all"}):Object(u.jsx)(u.Fragment,{})},E=function(e){return null===e||void 0===e?void 0:e.map((function(e,t){return Object(u.jsxs)("div",{id:"task-".concat(e.id),className:"task",children:[Object(u.jsxs)("span",{className:"title",title:"".concat(e.title,"\n").concat(e.description),children:[Object(u.jsx)("span",{children:e.title}),e.description&&Object(u.jsx)("small",{children:e.description})]}),Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)(j,{className:"delete",onConfirm:function(){return function(e){var t=s.filter((function(t){return e!==t.id}));i(t),w(t)}(e.id)},children:"Delete"}),Object(u.jsx)("span",{className:"edit",onClick:function(){g(e),window.scrollTo(0,0)},children:"Edit"}),Object(u.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){return function(e){var t=s.map((function(t){return e===t.id?Object(r.a)(Object(r.a)({},t),{},{completed:!t.completed}):t}));i(t),w(t)}(e.id)}})]})]},e.id)}))};return Object(u.jsxs)("div",{className:"home-page",children:[Object(u.jsxs)("div",{className:"top-bar",children:[Object(u.jsx)("span",{className:"logo",children:"ToDo"}),Object(u.jsx)(a.b,{className:"btn danger sm",to:"/logout",children:"Logout"})]}),Object(u.jsxs)("div",{className:"page-body",children:[Object(u.jsxs)("h1",{children:["Tasks List"," ",Object(u.jsxs)("span",{onClick:function(){return f((function(e){return!e}))},children:["Sort By Status"," ",Object(u.jsx)("i",{dangerouslySetInnerHTML:{__html:b?"&uarr;":"&darr;"}})," "]})]}),Object(u.jsx)(p,{data:N,onAdd:function(e){i((function(t){var n=Object(o.a)(t);return N?n=t.map((function(t){return t.id===N.id?Object(r.a)(Object(r.a)({},t),e):t})):n.push(Object(r.a)(Object(r.a)({id:s.length+1},e),{},{completed:!1})),w(n),n})),N&&(k(N.id),g(null))},onCancel:function(){N&&(k(N.id),g(null))}}),Object(u.jsxs)("div",{className:"tasks ".concat(b?"":"flip"),children:[Object(u.jsxs)("section",{className:"tasks-wrapper",children:[Object(u.jsxs)("h2",{className:"section-title",children:["Not Completed Tasks (",C.length,")",S(C)]}),E(C)]}),Object(u.jsxs)("section",{className:"tasks-wrapper",children:[Object(u.jsxs)("h2",{className:"section-title",children:["Completed Tasks (",y.length,")",S(y)]}),E(y)]})]}),Object(u.jsx)(v,{})]})]})},g=function(){return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(N,{loginStorageKey:"login-todo",loginStorageValue:"logged"})," "]})};n(26);i.a.render(Object(u.jsx)(c.StrictMode,{children:Object(u.jsx)(a.a,{children:Object(u.jsx)(g,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.3a788a2a.chunk.js.map