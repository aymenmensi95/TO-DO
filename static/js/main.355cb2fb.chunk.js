(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(26),i=n.n(s),a=n(14),o=n(3),r=n(6),l=n(7),d=n(4),u=function(e,t){var n=c.useMemo((function(){return t||document.body}),[t]),s=c.useRef();return c.useEffect((function(){var t=function(t){s.current.contains(t.target)||e(t)},c=function(t){e(t)};return document.addEventListener("mousedown",t),document.addEventListener("scroll",c),window.addEventListener("resize",c),n&&n.addEventListener("scroll",c),function(){document.removeEventListener("mousedown",t),document.removeEventListener("scroll",c),window.removeEventListener("resize",c),n&&n.removeEventListener("scroll",c)}}),[n,e]),s},j=(n(31),n(2)),b=function(e){var t=e.className,n=e.children,s=e.onConfirm,i=c.useState(!1),a=Object(d.a)(i,2),o=a[0],r=a[1],l=u((function(){r(!1)}));return Object(j.jsxs)("span",{ref:l,className:"delete-btn ".concat(t||""),children:[Object(j.jsx)("span",{onClick:function(){return r(!0)},children:n}),o&&Object(j.jsxs)("span",{className:"pop-over",children:[Object(j.jsx)("span",{className:"arrow"}),Object(j.jsx)("span",{className:"question",children:"Are you sure ? "}),Object(j.jsxs)("div",{className:"actions",children:[Object(j.jsx)("span",{className:"yes",onClick:function(){r(!1),s&&s()},children:"Yes"}),Object(j.jsx)("span",{className:"no",onClick:function(){return r(!1)},children:"No"})]})]})]})},m=n(24),f=["className","children"],O=function(e){var t=e.className,n=e.children,c=Object(m.a)(e,f);return Object(j.jsx)("button",Object(l.a)(Object(l.a)({className:"btn ".concat(t||"")},c),{},{children:n}))},h=["className","value","onChange","type"],p=c.forwardRef((function(e,t){var n=e.className,s=e.value,i=e.onChange,a=e.type,o=Object(m.a)(e,h),r=c.useState(!1),u=Object(d.a)(r,2),b=u[0],f=u[1],O=c.useMemo((function(){return"password"===a}),[a]);return Object(j.jsxs)("div",{className:"input ".concat(n||""),children:[Object(j.jsx)("input",Object(l.a)(Object(l.a)({},o),{},{ref:t,type:O?b?"text":"password":a,value:s,onChange:function(e){return i&&i(e.target.value)}})),O&&Object(j.jsx)("div",{className:"password-btn btn sm",onClick:function(){return f((function(e){return!e}))},children:b?"Hide":"Show"})]})})),v=(n(33),function(e){var t=e.data,n=e.onAdd,s=e.onCancel,i=c.useState((null===t||void 0===t?void 0:t.title)||""),a=Object(d.a)(i,2),o=a[0],r=a[1],l=c.useState((null===t||void 0===t?void 0:t.description)||""),u=Object(d.a)(l,2),b=u[0],m=u[1],f=c.useRef(null);c.useEffect((function(){r((null===t||void 0===t?void 0:t.title)||""),m((null===t||void 0===t?void 0:t.description)||""),f.current.focus()}),[t]);var h=function(){r(""),m("")},v=c.useMemo((function(){return(!o||(null===t||void 0===t?void 0:t.title)===o.trim())&&(null===t||void 0===t?void 0:t.description)===b.trim()}),[t,o,b]);return Object(j.jsx)("form",{className:"add-task-form",onSubmit:function(e){e.preventDefault(),o&&(n&&n({title:o,description:b}),h())},children:Object(j.jsxs)("div",{className:"line",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(p,{ref:f,placeholder:"Task Title",value:o,onChange:r,required:!0,autoFocus:!0})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(p,{placeholder:"Task Description",value:b,onChange:m})}),Object(j.jsx)("div",{className:"btn-col",children:Object(j.jsx)(O,{type:"submit",className:"primary",disabled:v,children:null!==t&&void 0!==t&&t.title?"Edit":"Add"})}),Object(j.jsx)("div",{className:"btn-col",children:Object(j.jsx)(O,{type:"reset",className:"danger",onClick:function(){s&&s(),h()},children:null!==t&&void 0!==t&&t.title?"Cancel":"Reset"})})]})})}),x=(n(34),function(){return Object(j.jsxs)("footer",{children:["By"," ",Object(j.jsx)("a",{href:"https://www.linkedin.com/in/aymen-mensi/",target:"_blanc",children:"Aymen Mensi"})," "]})}),N=(n(35),"todo-data-test"),g=function(e){e.loginStorageKey,e.loginStorageValue;var t=c.useState([]),n=Object(d.a)(t,2),s=n[0],i=n[1],o=c.useState(!0),u=Object(d.a)(o,2),m=u[0],f=u[1],O=c.useState(null),h=Object(d.a)(O,2),p=h[0],g=h[1];c.useEffect((function(){var e=localStorage.getItem(N);i(e?JSON.parse(e):[])}),[]);var k=function(e){document.getElementById("task-".concat(e)).scrollIntoView()},w=function(e){localStorage.setItem(N,JSON.stringify(e))},y=c.useMemo((function(){return s.filter((function(e){return e.completed}))}),[s]),C=c.useMemo((function(){return s.filter((function(e){return!e.completed}))}),[s]),S=function(e){return e.length?Object(j.jsx)(b,{className:"delete-all",onConfirm:function(){return function(e){var t=e.map((function(e){return e.id}));i((function(e){var n=e.filter((function(e){return!t.includes(e.id)}));return w(n),n}))}(e)},children:"Delete all"}):Object(j.jsx)(j.Fragment,{})},E=function(e){return null===e||void 0===e?void 0:e.map((function(e,t){return Object(j.jsxs)("div",{id:"task-".concat(e.id),className:"task",children:[Object(j.jsxs)("span",{className:"title",title:"".concat(e.title,"\n").concat(e.description),children:[Object(j.jsx)("span",{children:e.title}),e.description&&Object(j.jsx)("small",{children:e.description})]}),Object(j.jsxs)("div",{className:"actions",children:[Object(j.jsx)(b,{className:"delete",onConfirm:function(){return function(e){var t=s.filter((function(t){return e!==t.id}));i(t),w(t)}(e.id)},children:"Delete"}),Object(j.jsx)("span",{className:"edit",onClick:function(){g(e),window.scrollTo(0,0)},children:"Edit"}),Object(j.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){return function(e){var t=s.map((function(t){return e===t.id?Object(l.a)(Object(l.a)({},t),{},{completed:!t.completed}):t}));i(t),w(t)}(e.id)}})]})]},e.id)}))};return Object(j.jsxs)("div",{className:"home-page",children:[Object(j.jsxs)("div",{className:"top-bar",children:[Object(j.jsx)("span",{className:"logo",children:"ToDo 1"}),Object(j.jsx)(a.b,{className:"btn danger sm",to:"/logout",children:"Logout"})]}),Object(j.jsxs)("div",{className:"page-body",children:[Object(j.jsxs)("h1",{children:["Tasks List"," ",Object(j.jsxs)("span",{onClick:function(){return f((function(e){return!e}))},children:["Sort By Status"," ",Object(j.jsx)("i",{dangerouslySetInnerHTML:{__html:m?"&uarr;":"&darr;"}})," "]})]}),Object(j.jsx)(v,{data:p,onAdd:function(e){i((function(t){var n=Object(r.a)(t);return p?n=t.map((function(t){return t.id===p.id?Object(l.a)(Object(l.a)({},t),e):t})):n.push(Object(l.a)(Object(l.a)({id:s.length+1},e),{},{completed:!1})),w(n),n})),p&&(k(p.id),g(null))},onCancel:function(){p&&(k(p.id),g(null))}}),Object(j.jsxs)("div",{className:"tasks ".concat(m?"":"flip"),children:[Object(j.jsxs)("section",{className:"tasks-wrapper",children:[Object(j.jsxs)("h2",{className:"section-title",children:["Not Completed Tasks (",C.length,")",S(C)]}),E(C)]}),Object(j.jsxs)("section",{className:"tasks-wrapper",children:[Object(j.jsxs)("h2",{className:"section-title",children:["Completed Tasks (",y.length,")",S(y)]}),E(y)]})]}),Object(j.jsx)(x,{})]})]})},k=function(){return Object(j.jsx)("div",{className:"app",children:Object(j.jsx)(o.c,{children:Object(j.jsx)(o.a,{exact:!0,path:"/",element:Object(j.jsx)(g,{loginStorageKey:"login-todo",loginStorageValue:"logged"})})})})};n(36);i.a.render(Object(j.jsx)(c.StrictMode,{children:Object(j.jsx)(a.a,{children:Object(j.jsx)(k,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.355cb2fb.chunk.js.map