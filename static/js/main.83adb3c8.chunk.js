(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(11),i=n.n(s),o=n(4),a=n(2),r=n(3),l=n(8),u=n(0),d=["className","value","onChange","type"],j=c.forwardRef((function(e,t){var n=e.className,s=e.value,i=e.onChange,o=e.type,j=Object(l.a)(e,d),b=c.useState(!1),m=Object(a.a)(b,2),f=m[0],O=m[1],h=c.useMemo((function(){return"password"===o}),[o]);return Object(u.jsxs)("div",{className:"input ".concat(n||""),children:[Object(u.jsx)("input",Object(r.a)(Object(r.a)({},j),{},{ref:t,type:h?f?"text":"password":o,value:s,onChange:function(e){return i&&i(e.target.value)}})),h&&Object(u.jsx)("div",{className:"password-btn btn sm",onClick:function(){return O((function(e){return!e}))},children:f?"Hide":"Show"})]})})),b=["className","children"],m=function(e){var t=e.className,n=e.children,c=Object(l.a)(e,b);return Object(u.jsx)("button",Object(r.a)(Object(r.a)({className:"btn ".concat(t||"")},c),{},{children:n}))},f=m,O=(n(25),function(){return Object(u.jsxs)("footer",{children:["By"," ",Object(u.jsx)("a",{href:"https://www.linkedin.com/in/aymen-mensi/",target:"_blanc",children:"Aymen Mensi"})," "]})}),h=(n(26),function(e){var t=e.loginStorageKey,n=e.loginStorageValue,s=Object(c.useState)(""),i=Object(a.a)(s,2),r=i[0],l=i[1],d=Object(c.useState)(""),b=Object(a.a)(d,2),m=b[0],h=b[1];Object(c.useEffect)((function(){localStorage.getItem(t)===n&&Object(o.c)("/")}),[t,n]);return Object(u.jsx)("div",{className:"login-page",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"test@test.com"===r&&"test"===m&&(localStorage.setItem(t,n),Object(o.c)("/"))},children:[Object(u.jsx)("h1",{children:"Welcome To ToDo"}),Object(u.jsx)(j,{name:"email",placeholder:"E-mail",type:"email",value:r,onChange:function(e){return l(e)},required:!0,autoFocus:!0}),Object(u.jsx)(j,{name:"password",placeholder:"Password",className:"password-input",type:"password",value:m,onChange:function(e){return h(e)},required:!0,autoFocus:!0}),Object(u.jsx)(f,{type:"submit",children:"Login"}),Object(u.jsx)(O,{})]})})}),p=function(e){var t=e.loginStorageKey;return c.useEffect((function(){localStorage.setItem(t,""),Object(o.c)("/login")}),[t]),null},v=n(13),x=function(e,t){var n=c.useMemo((function(){return t||document.body}),[t]),s=c.useRef();return c.useEffect((function(){var t=function(t){s.current.contains(t.target)||e(t)},c=function(t){e(t)};return document.addEventListener("mousedown",t),document.addEventListener("scroll",c),window.addEventListener("resize",c),n&&n.addEventListener("scroll",c),function(){document.removeEventListener("mousedown",t),document.removeEventListener("scroll",c),window.removeEventListener("resize",c),n&&n.removeEventListener("scroll",c)}}),[n,e]),s},g=(n(27),function(e){var t=e.className,n=e.children,s=e.onConfirm,i=c.useState(!1),o=Object(a.a)(i,2),r=o[0],l=o[1],d=x((function(){l(!1)}));return Object(u.jsxs)("span",{ref:d,className:"delete-btn ".concat(t||""),children:[Object(u.jsx)("span",{onClick:function(){return l(!0)},children:n}),r&&Object(u.jsxs)("span",{className:"pop-over",children:[Object(u.jsx)("span",{className:"arrow"}),Object(u.jsx)("span",{className:"question",children:"Are you sure ? "}),Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)("span",{className:"yes",onClick:function(){l(!1),s&&s()},children:"Yes"}),Object(u.jsx)("span",{className:"no",onClick:function(){return l(!1)},children:"No"})]})]})]})}),N=(n(28),function(e){var t=e.data,n=e.onAdd,s=e.onCancel,i=c.useState((null===t||void 0===t?void 0:t.title)||""),o=Object(a.a)(i,2),r=o[0],l=o[1],d=c.useState((null===t||void 0===t?void 0:t.description)||""),b=Object(a.a)(d,2),f=b[0],O=b[1],h=c.useRef(null);c.useEffect((function(){l((null===t||void 0===t?void 0:t.title)||""),O((null===t||void 0===t?void 0:t.description)||""),h.current.focus()}),[t]);var p=function(){l(""),O("")},v=c.useMemo((function(){return(!r||(null===t||void 0===t?void 0:t.title)===r.trim())&&(null===t||void 0===t?void 0:t.description)===f.trim()}),[t,r,f]);return Object(u.jsx)("form",{className:"add-task-form",onSubmit:function(e){e.preventDefault(),r&&(n&&n({title:r,description:f}),p())},children:Object(u.jsxs)("div",{className:"line",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(j,{ref:h,placeholder:"Task Title",value:r,onChange:l,required:!0,autoFocus:!0})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(j,{placeholder:"Task Description",value:f,onChange:O})}),Object(u.jsx)("div",{className:"btn-col",children:Object(u.jsx)(m,{type:"submit",className:"primary",disabled:v,children:null!==t&&void 0!==t&&t.title?"Edit":"Add"})}),Object(u.jsx)("div",{className:"btn-col",children:Object(u.jsx)(m,{type:"reset",className:"danger",onClick:function(){s&&s(),p()},children:null!==t&&void 0!==t&&t.title?"Cancel":"Reset"})})]})})}),S=(n(29),"todo-data-test"),w=function(){var e=c.useState([]),t=Object(a.a)(e,2),n=t[0],s=t[1],i=c.useState(!0),l=Object(a.a)(i,2),d=l[0],j=l[1],b=c.useState(null),m=Object(a.a)(b,2),f=m[0],h=m[1];c.useEffect((function(){var e=localStorage.getItem(S);s(e?JSON.parse(e):[])}),[]);var p=function(e){document.getElementById("task-".concat(e)).scrollIntoView()},x=function(e){localStorage.setItem(S,JSON.stringify(e))},w=c.useMemo((function(){return n.filter((function(e){return e.completed}))}),[n]),y=c.useMemo((function(){return n.filter((function(e){return!e.completed}))}),[n]),k=function(e){return e.length?Object(u.jsx)(g,{className:"delete-all",onConfirm:function(){return function(e){var t=e.map((function(e){return e.id}));s((function(e){var n=e.filter((function(e){return!t.includes(e.id)}));return x(n),n}))}(e)},children:"Delete all"}):Object(u.jsx)(u.Fragment,{})},C=function(e){return null===e||void 0===e?void 0:e.map((function(e,t){return Object(u.jsxs)("div",{id:"task-".concat(e.id),className:"task",children:[Object(u.jsxs)("span",{className:"title",title:"".concat(e.title,"\n").concat(e.description),children:[Object(u.jsx)("span",{children:e.title}),e.description&&Object(u.jsx)("small",{children:e.description})]}),Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)(g,{className:"delete",onConfirm:function(){return function(e){var t=n.filter((function(t){return e!==t.id}));s(t),x(t)}(e.id)},children:"Delete"}),Object(u.jsx)("span",{className:"edit",onClick:function(){h(e),window.scrollTo(0,0)},children:"Edit"}),Object(u.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){return function(e){var t=n.map((function(t){return e===t.id?Object(r.a)(Object(r.a)({},t),{},{completed:!t.completed}):t}));s(t),x(t)}(e.id)}})]})]},e.id)}))};return Object(u.jsxs)("div",{className:"home-page",children:[Object(u.jsxs)("div",{className:"top-bar",children:[Object(u.jsx)("span",{className:"logo",children:"ToDo"}),Object(u.jsx)(o.a,{className:"btn danger sm",to:"/logout",children:"Logout"})]}),Object(u.jsxs)("div",{className:"page-body",children:[Object(u.jsxs)("h1",{children:["Tasks List"," ",Object(u.jsxs)("span",{onClick:function(){return j((function(e){return!e}))},children:["Sort By Status"," ",Object(u.jsx)("i",{dangerouslySetInnerHTML:{__html:d?"&uarr;":"&darr;"}})," "]})]}),Object(u.jsx)(N,{data:f,onAdd:function(e){s((function(t){var c=Object(v.a)(t);return f?c=t.map((function(t){return t.id===f.id?Object(r.a)(Object(r.a)({},t),e):t})):c.push(Object(r.a)(Object(r.a)({id:n.length+1},e),{},{completed:!1})),x(c),c})),f&&(p(f.id),h(null))},onCancel:function(){f&&(p(f.id),h(null))}}),Object(u.jsxs)("div",{className:"tasks ".concat(d?"":"flip"),children:[Object(u.jsxs)("section",{className:"tasks-wrapper",children:[Object(u.jsxs)("h2",{className:"section-title",children:["Not Completed Tasks (",y.length,")",k(y)]}),C(y)]}),Object(u.jsxs)("section",{className:"tasks-wrapper",children:[Object(u.jsxs)("h2",{className:"section-title",children:["Completed Tasks (",w.length,")",k(w)]}),C(w)]})]}),Object(u.jsx)(O,{})]})]})},y=(n(30),"login-todo"),k="logged",C=function(){return c.useEffect((function(){localStorage.getItem(y)===k||Object(o.c)("/login")}),[]),Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(o.b,{children:[Object(u.jsx)(h,{path:"/login",loginStorageKey:y,loginStorageValue:k}),Object(u.jsx)(p,{path:"/logout",loginStorageKey:y}),Object(u.jsx)(w,{path:"/"})]})})};n(31);i.a.render(Object(u.jsx)(c.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.83adb3c8.chunk.js.map