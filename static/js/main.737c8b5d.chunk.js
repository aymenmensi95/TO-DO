(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(26),a=n.n(s),o=n(11),i=n(3),r=n(4),l=n(7),u=n(24),d=n(2),j=["className","value","onChange","type"],b=c.forwardRef((function(e,t){var n=e.className,s=e.value,a=e.onChange,o=e.type,i=Object(u.a)(e,j),b=c.useState(!1),m=Object(r.a)(b,2),f=m[0],O=m[1],h=c.useMemo((function(){return"password"===o}),[o]);return Object(d.jsxs)("div",{className:"input ".concat(n||""),children:[Object(d.jsx)("input",Object(l.a)(Object(l.a)({},i),{},{ref:t,type:h?f?"text":"password":o,value:s,onChange:function(e){return a&&a(e.target.value)}})),h&&Object(d.jsx)("div",{className:"password-btn btn sm",onClick:function(){return O((function(e){return!e}))},children:f?"Hide":"Show"})]})})),m=["className","children"],f=function(e){var t=e.className,n=e.children,c=Object(u.a)(e,m);return Object(d.jsx)("button",Object(l.a)(Object(l.a)({className:"btn ".concat(t||"")},c),{},{children:n}))},O=f,h=(n(32),function(){return Object(d.jsxs)("footer",{children:["By"," ",Object(d.jsx)("a",{href:"https://www.linkedin.com/in/aymen-mensi/",target:"_blanc",children:"Aymen Mensi"})," "]})}),p=(n(33),function(e){var t=e.loginStorageKey,n=e.loginStorageValue,s=Object(c.useState)(""),a=Object(r.a)(s,2),o=a[0],l=a[1],u=Object(c.useState)(""),j=Object(r.a)(u,2),m=j[0],f=j[1],p=Object(i.m)();Object(c.useEffect)((function(){localStorage.getItem(t)===n&&p("/")}),[t,n,p]);return Object(d.jsx)("div",{className:"login-page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"test@test.com"===o&&"test"===m&&(localStorage.setItem(t,n),p("/"))},children:[Object(d.jsx)("h1",{children:"Welcome To ToDo"}),Object(d.jsx)(b,{name:"email",placeholder:"E-mail",type:"email",value:o,onChange:function(e){return l(e)},required:!0,autoFocus:!0}),Object(d.jsx)(b,{name:"password",placeholder:"Password",className:"password-input",type:"password",value:m,onChange:function(e){return f(e)},required:!0,autoFocus:!0}),Object(d.jsx)(O,{type:"submit",children:"Login"}),Object(d.jsx)(h,{})]})})}),v=function(e){var t=e.loginStorageKey,n=Object(i.m)();return c.useEffect((function(){localStorage.setItem(t,""),n("/login")}),[t,n]),null},x=n(6),g=function(e,t){var n=c.useMemo((function(){return t||document.body}),[t]),s=c.useRef();return c.useEffect((function(){var t=function(t){s.current.contains(t.target)||e(t)},c=function(t){e(t)};return document.addEventListener("mousedown",t),document.addEventListener("scroll",c),window.addEventListener("resize",c),n&&n.addEventListener("scroll",c),function(){document.removeEventListener("mousedown",t),document.removeEventListener("scroll",c),window.removeEventListener("resize",c),n&&n.removeEventListener("scroll",c)}}),[n,e]),s},N=(n(34),function(e){var t=e.className,n=e.children,s=e.onConfirm,a=c.useState(!1),o=Object(r.a)(a,2),i=o[0],l=o[1],u=g((function(){l(!1)}));return Object(d.jsxs)("span",{ref:u,className:"delete-btn ".concat(t||""),children:[Object(d.jsx)("span",{onClick:function(){return l(!0)},children:n}),i&&Object(d.jsxs)("span",{className:"pop-over",children:[Object(d.jsx)("span",{className:"arrow"}),Object(d.jsx)("span",{className:"question",children:"Are you sure ? "}),Object(d.jsxs)("div",{className:"actions",children:[Object(d.jsx)("span",{className:"yes",onClick:function(){l(!1),s&&s()},children:"Yes"}),Object(d.jsx)("span",{className:"no",onClick:function(){return l(!1)},children:"No"})]})]})]})}),S=(n(35),function(e){var t=e.data,n=e.onAdd,s=e.onCancel,a=c.useState((null===t||void 0===t?void 0:t.title)||""),o=Object(r.a)(a,2),i=o[0],l=o[1],u=c.useState((null===t||void 0===t?void 0:t.description)||""),j=Object(r.a)(u,2),m=j[0],O=j[1],h=c.useRef(null);c.useEffect((function(){l((null===t||void 0===t?void 0:t.title)||""),O((null===t||void 0===t?void 0:t.description)||""),h.current.focus()}),[t]);var p=function(){l(""),O("")},v=c.useMemo((function(){return(!i||(null===t||void 0===t?void 0:t.title)===i.trim())&&(null===t||void 0===t?void 0:t.description)===m.trim()}),[t,i,m]);return Object(d.jsx)("form",{className:"add-task-form",onSubmit:function(e){e.preventDefault(),i&&(n&&n({title:i,description:m}),p())},children:Object(d.jsxs)("div",{className:"line",children:[Object(d.jsx)("div",{className:"col",children:Object(d.jsx)(b,{ref:h,placeholder:"Task Title",value:i,onChange:l,required:!0,autoFocus:!0})}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)(b,{placeholder:"Task Description",value:m,onChange:O})}),Object(d.jsx)("div",{className:"btn-col",children:Object(d.jsx)(f,{type:"submit",className:"primary",disabled:v,children:null!==t&&void 0!==t&&t.title?"Edit":"Add"})}),Object(d.jsx)("div",{className:"btn-col",children:Object(d.jsx)(f,{type:"reset",className:"danger",onClick:function(){s&&s(),p()},children:null!==t&&void 0!==t&&t.title?"Cancel":"Reset"})})]})})}),y=(n(36),"todo-data-test"),w=function(e){e.loginStorageKey,e.loginStorageValue;var t=c.useState([]),n=Object(r.a)(t,2),s=n[0],a=n[1],i=c.useState(!0),u=Object(r.a)(i,2),j=u[0],b=u[1],m=c.useState(null),f=Object(r.a)(m,2),O=f[0],p=f[1];c.useEffect((function(){var e=localStorage.getItem(y);a(e?JSON.parse(e):[])}),[]);var v=function(e){document.getElementById("task-".concat(e)).scrollIntoView()},g=function(e){localStorage.setItem(y,JSON.stringify(e))},w=c.useMemo((function(){return s.filter((function(e){return e.completed}))}),[s]),k=c.useMemo((function(){return s.filter((function(e){return!e.completed}))}),[s]),C=function(e){return e.length?Object(d.jsx)(N,{className:"delete-all",onConfirm:function(){return function(e){var t=e.map((function(e){return e.id}));a((function(e){var n=e.filter((function(e){return!t.includes(e.id)}));return g(n),n}))}(e)},children:"Delete all"}):Object(d.jsx)(d.Fragment,{})},E=function(e){return null===e||void 0===e?void 0:e.map((function(e,t){return Object(d.jsxs)("div",{id:"task-".concat(e.id),className:"task",children:[Object(d.jsxs)("span",{className:"title",title:"".concat(e.title,"\n").concat(e.description),children:[Object(d.jsx)("span",{children:e.title}),e.description&&Object(d.jsx)("small",{children:e.description})]}),Object(d.jsxs)("div",{className:"actions",children:[Object(d.jsx)(N,{className:"delete",onConfirm:function(){return function(e){var t=s.filter((function(t){return e!==t.id}));a(t),g(t)}(e.id)},children:"Delete"}),Object(d.jsx)("span",{className:"edit",onClick:function(){p(e),window.scrollTo(0,0)},children:"Edit"}),Object(d.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){return function(e){var t=s.map((function(t){return e===t.id?Object(l.a)(Object(l.a)({},t),{},{completed:!t.completed}):t}));a(t),g(t)}(e.id)}})]})]},e.id)}))};return Object(d.jsxs)("div",{className:"home-page",children:[Object(d.jsxs)("div",{className:"top-bar",children:[Object(d.jsx)("span",{className:"logo",children:"ToDo"}),Object(d.jsx)(o.b,{className:"btn danger sm",to:"/logout",children:"Logout"})]}),Object(d.jsxs)("div",{className:"page-body",children:[Object(d.jsxs)("h1",{children:["Tasks List"," ",Object(d.jsxs)("span",{onClick:function(){return b((function(e){return!e}))},children:["Sort By Status"," ",Object(d.jsx)("i",{dangerouslySetInnerHTML:{__html:j?"&uarr;":"&darr;"}})," "]})]}),Object(d.jsx)(S,{data:O,onAdd:function(e){a((function(t){var n=Object(x.a)(t);return O?n=t.map((function(t){return t.id===O.id?Object(l.a)(Object(l.a)({},t),e):t})):n.push(Object(l.a)(Object(l.a)({id:s.length+1},e),{},{completed:!1})),g(n),n})),O&&(v(O.id),p(null))},onCancel:function(){O&&(v(O.id),p(null))}}),Object(d.jsxs)("div",{className:"tasks ".concat(j?"":"flip"),children:[Object(d.jsxs)("section",{className:"tasks-wrapper",children:[Object(d.jsxs)("h2",{className:"section-title",children:["Not Completed Tasks (",k.length,")",C(k)]}),E(k)]}),Object(d.jsxs)("section",{className:"tasks-wrapper",children:[Object(d.jsxs)("h2",{className:"section-title",children:["Completed Tasks (",w.length,")",C(w)]}),E(w)]})]}),Object(d.jsx)(h,{})]})]})},k=(n(37),"login-todo"),C="logged",E=function(){return Object(d.jsxs)("div",{className:"app",children:["Hello",Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/login",element:Object(d.jsx)(p,{loginStorageKey:k,loginStorageValue:C})}),Object(d.jsx)(i.a,{path:"/logout",element:Object(d.jsx)(v,{loginStorageKey:k})}),Object(d.jsx)(i.a,{exact:!0,path:"/",element:Object(d.jsx)(w,{loginStorageKey:k,loginStorageValue:C})})]})]})};n(38);a.a.render(Object(d.jsx)(c.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(E,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.737c8b5d.chunk.js.map